<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kendaraan | PT ANISA JAYA UTAMA â€” BY ROY</title>

  <style>
    :root { --accent:#0c5d27; --danger:#c0392b; --warn:#f1c40f; --ok:#2ecc71; }
    *{box-sizing:border-box;font-family:"Poppins",sans-serif}
    body{background:#f6faf7;margin:0;color:#123}
    header{background:var(--accent);color:#fff;padding:12px 18px;display:flex;justify-content:space-between;align-items:center}
    header nav a{color:#fff;text-decoration:none;margin-left:14px;font-weight:500}
    #adminName{color:#fff;margin-right:14px;font-weight:600;display:inline-flex;align-items:center;gap:8px}

    main{max-width:1400px;margin:28px auto;padding:0 16px}
    /* kembali ke lebar form semula 340px */
    .grid{display:grid;grid-template-columns:340px 1fr;gap:24px}

    .card{background:#fff;border-radius:12px;box-shadow:0 3px 12px rgba(0,0,0,0.08);padding:20px}
    h2{margin:0 0 12px;color:var(--accent);font-size:18px;text-align:center}

    label{display:block;margin:8px 0 4px;font-weight:600;font-size:13px;color:#234}
    input[type="text"],input[type="date"]{width:100%;padding:9px 10px;border:1.3px solid #ccd7cc;border-radius:8px;font-size:14px}
    input:disabled{background:#f7f7f7;opacity:.85}

    .row-btn{display:flex;gap:10px;margin-top:14px}
    .btn{padding:10px 14px;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:.2s}
    .btn-primary{background:linear-gradient(135deg,#0c5d27,#118b3f);color:#fff}
    .btn-primary:hover{filter:brightness(1.06)}
    .btn-neutral{background:#bbb;color:#fff}
    .btn-neutral:disabled{background:#ddd;color:#888;cursor:not-allowed}

    table{width:100%;border-collapse:collapse;font-size:14px}
    th,td{padding:10px;border-bottom:1px solid #e6efe6;text-align:left;vertical-align:top}
    thead th{background:var(--accent);color:#fff;position:sticky;top:0}
    tbody tr:hover{background:#f9fbf9}
    .dot{width:10px;height:10px;border-radius:3px;display:inline-block;margin-right:5px}
    .action-btn{border:none;border-radius:6px;padding:6px 9px;font-size:13px;font-weight:600;cursor:pointer}
    .edit{background:#f1c40f;color:#000;margin-right:6px}
    .del{background:var(--danger);color:#fff}

    /* diperlebar area tabel tanpa mengubah kolom form */
    .table-wrap{
      max-height:720px;   /* lebih panjang ke bawah */
      overflow:auto;
      border:1px solid #e3eee3;
      border-radius:8px;
      padding-right:6px;  /* agar scrollbar tidak menutupi konten */
    }

    /* responsive */
    @media(max-width:900px){ .grid{grid-template-columns:1fr} .table-wrap{max-height:420px} }
  </style>
</head>
<body onload="initKendaraanPage()">
  <header>
    <div><strong>ğŸš— PT ANISA JAYA UTAMA â€” BY ROY</strong></div>
    <div style="display:flex;align-items:center;">
      <div id="adminName">ğŸ‘¤ Admin</div>
      <nav>
        <a href="dashboard.html">ğŸ  Dashboard</a>
        <a href="user.html">ğŸ‘¥ User</a>
        <a href="login.html">ğŸ”’ Logout</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="grid">
      <!-- FORM -->
      <section class="card">
        <h2>ğŸ§¾ FORM KENDARAAN</h2>
        <label>ğŸš˜ PLAT NOMOR</label>
        <input id="plat" type="text" placeholder="Contoh: B1234XYZ" disabled>

        <label>ğŸ“ LETAK / GARASI</label>
        <input id="letak" type="text" placeholder="Contoh: Jakarta" disabled>

        <label>ğŸ“‹ STNK</label>
        <input id="stnk" type="date" disabled>

        <label>ğŸ”§ KIR</label>
        <input id="kir" type="date" disabled>

        <label>ğŸ›  SERVIS TERAKHIR</label>
        <input id="servis" type="date" disabled>

        <label>ğŸ’° PAJAK 5 TAHUNAN</label>
        <input id="pajak5" type="date" disabled>

        <div class="row-btn">
          <button id="btnPrimary" class="btn btn-primary" onclick="handlePrimaryClick()">â• Tambah</button>
          <button id="btnCancel" class="btn btn-neutral" onclick="handleCancel()" disabled>âŒ Batal</button>
        </div>
      </section>

      <!-- TABLE -->
      <section class="card">
        <h2>ğŸ“‹ DAFTAR KENDARAAN</h2>

        <input id="searchInput" type="text" placeholder="ğŸ” Cari kendaraan (Plat / Letak)" style="width:100%;padding:10px;border-radius:8px;border:1.4px solid #dbe5dc;margin-bottom:12px">

        <div class="table-wrap">
          <table id="tblKendaraan">
            <thead>
              <tr>
                <th>ğŸš˜ PLAT</th>
                <th>ğŸ“ LETAK</th>
                <th>ğŸ“‹ STNK</th>
                <th>ğŸ”§ KIR</th>
                <th>ğŸ›  SERVIS</th>
                <th>ğŸ’° PAJAK 5 TH</th>
                <th>âš™ï¸ AKSI</th>
              </tr>
            </thead>
            <tbody>
              <tr><td colspan="7" align="center">Memuat data...</td></tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>
  </main>

  <!-- jangan ubah behavior / logic, main.js tetap dipakai -->
  <script src="main.js?v=7.5"></script>

  <script>
    // Hanya UI: tampilkan nama admin di header (ambil session dari main.js)
    (function showAdmin(){
      try {
        const u = getSession();
        if(u && u.nama) {
          const el = document.getElementById("adminName");
          el.textContent = "ğŸ‘¤ " + (u.nama || "Admin");
        }
      } catch(e){}
    })();

    // Jangan ubah logika event tombol / form â€” main.js yang mengurusnya.
    // Namun pastikan input tidak otomatis diubah di sini (tidak memaksa uppercase).
    // Jika butuh uppercase lagi nanti, beri tahu â€” aku akan tambahkan tanpa ubah logic.
  </script>
</body>
</html>
