  <!-- Panggil main.js dengan anti-cache & load aman -->
  <script>
    // Versi cache unik tiap load
    const mainJsUrl = "main.js?v=" + new Date().getTime();
    const script = document.createElement("script");
    script.src = mainJsUrl;
    script.defer = true;

    // Saat main.js sudah termuat sepenuhnya
    script.onload = () => {
      console.log("âœ… main.js termuat sepenuhnya dari:", mainJsUrl);
    };

    script.onerror = () => {
      alert("âŒ Gagal memuat file main.js. Pastikan file ini ada di folder yang sama.");
    };

    document.body.appendChild(script);
  </script>

  <script>
    /****************************************************
     * Cek login() & tombol
     ****************************************************/
    function checkLoginReady() {
      if (typeof login === "function") {
        console.log("âœ… Fungsi login() tersedia, tombol siap dipakai.");
        document.getElementById("btnLogin").disabled = false;
      } else {
        console.warn("â³ Fungsi login() belum tersedia, coba lagi dalam 500ms...");
        setTimeout(checkLoginReady, 500);
      }
    }
    checkLoginReady();

    document.getElementById("btnLogin").addEventListener("click", (e) => {
      e.preventDefault();
      if (typeof login === "function") {
        login();
      } else {
        alert("âš ï¸ Fungsi login() belum siap. Tunggu sebentar atau reload (Ctrl + F5).");
      }
    });

    document.getElementById("togglePass").addEventListener("click", (e) => {
      const p = document.getElementById("password");
      p.type = p.type === "password" ? "text" : "password";
      e.target.textContent = p.type === "password" ? "ğŸ‘ï¸" : "ğŸ™ˆ";
    });
  </script>
</body>
</html>
